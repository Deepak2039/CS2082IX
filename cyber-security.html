<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Security & Digital Citizenship - CS 2082</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/lesson.css">
    <link rel="stylesheet" href="css/mcq.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <i class="fas fa-laptop-code"></i>
                <a href="index.html" class="home-link">CS 2082</a>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
            </ul>
        </nav>
    </header>

    <main class="lesson-container">
        <aside class="lesson-sidebar">
            <h3>Course Content</h3>
            <ul class="lesson-menu">
                <li class="active"><a href="cyber-security.html">6.1 Cybersecurity Basics</a></li>
                <li><a href="online-threats.html">6.2 Online Threats</a></li>
                <li><a href="privacy-protection.html">6.3 Privacy Protection</a></li>
                <li><a href="digital-citizenship.html">6.4 Digital Citizenship</a></li>
                <li><a href="ethical-behavior.html">6.5 Ethical Online Behavior</a></li>
            </ul>
        </aside>

        <article class="lesson-content">
            <div class="navigation-buttons top-navigation">
                <div></div>
                <a href="online-threats.html" class="nav-button next">Next: 6.2 Online Threats <i class="fas fa-arrow-right"></i></a>
            </div>
            <h1>6. Cyber Security & Digital Citizenship</h1>
            
            <section id="introduction" class="lesson-section">
                <h2>6.1 Cybersecurity Basics</h2>
                <p>Welcome to the Cyber Security & Digital Citizenship module! In this section, we'll explore how to stay safe online and be responsible digital citizens.</p>
                
                <div class="learning-objectives">
                    <h3><i class="fas fa-bullseye"></i> Learning Objectives</h3>
                    <ul>
                        <li>Understand basic cybersecurity concepts and terminology</li>
                        <li>Learn about common online threats and how to protect against them</li>
                        <li>Explore the principles of good digital citizenship</li>
                    </ul>
                </div>
            </section>

            <section id="cybersecurity-fundamentals" class="lesson-section">
                <h3>6.1.1 What is Cybersecurity?</h3>
                <div class="definition-box">
                    <h4><i class="fas fa-shield-alt"></i> Definition</h4>
                    <p>Cybersecurity is the practice of protecting systems, networks, and programs from digital attacks. These cyberattacks are usually aimed at accessing, changing, or destroying sensitive information, extorting money from users, or interrupting normal business processes.</p>
                </div>

                <h4><i class="fas fa-lock"></i> The CIA Triad</h4>
                <p>The foundation of cybersecurity is built on three key principles known as the CIA Triad:</p>
                
                <div class="info-box">
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-user-secret"></i>
                        </div>
                        <div class="info-content">
                            <h5>Confidentiality</h5>
                            <p>Ensuring that information is only accessible to those authorized to have access</p>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="info-content">
                            <h5>Integrity</h5>
                            <p>Maintaining the accuracy and reliability of data and systems</p>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-unlock-alt"></i>
                        </div>
                        <div class="info-content">
                            <h5>Availability</h5>
                            <p>Ensuring that systems and data are accessible when needed</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="common-threats" class="lesson-section">
                <h3>6.1.2 Common Cybersecurity Threats</h3>
                
                <div class="threat-card malware">
                    <div class="threat-icon">
                        <i class="fas fa-virus"></i>
                    </div>
                    <div class="threat-content">
                        <h4>Malware</h4>
                        <p>Malicious software designed to harm or exploit any device, service, or network. Includes viruses, worms, trojans, ransomware, and spyware.</p>
                        <div class="protection-tip">
                            <strong>Protection:</strong> Use reputable antivirus software and keep it updated.
                        </div>
                    </div>
                </div>

                <div class="threat-card phishing">
                    <div class="threat-icon">
                        <i class="fas fa-fish"></i>
                    </div>
                    <div class="threat-content">
                        <h4>Phishing</h4>
                        <p>Fraudulent attempts to obtain sensitive information by disguising as a trustworthy entity in electronic communications.</p>
                        <div class="protection-tip">
                            <strong>Protection:</strong> Never click on suspicious links or download attachments from unknown senders.
                        </div>
                    </div>
                </div>

                <div class="threat-card social-engineering">
                    <div class="threat-icon">
                        <i class="fas fa-user-secret"></i>
                    </div>
                    <div class="threat-content">
                        <h4>Social Engineering</h4>
                        <p>Psychological manipulation of people into performing actions or divulging confidential information.</p>
                        <div class="protection-tip">
                            <strong>Protection:</strong> Be skeptical of unsolicited requests for information.
                        </div>
                    </div>
                </div>
            </section>

            <section id="digital-citizenship" class="lesson-section">
                <h3>6.1.3 Digital Citizenship</h3>
                
                <div class="definition-box">
                    <h4><i class="fas fa-globe"></i> What is Digital Citizenship?</h4>
                    <p>Digital citizenship refers to the responsible use of technology by anyone who uses computers, the Internet, and digital devices to engage with society on any level.</p>
                </div>

                <h4><i class="fas fa-balance-scale"></i> Key Principles</h4>
                <div class="principles-grid">
                    <div class="principle-card">
                        <div class="principle-icon">
                            <i class="fas fa-lock"></i>
                        </div>
                        <h5>Digital Literacy</h5>
                        <p>The ability to find, evaluate, utilize, share, and create content using information technologies and the Internet.</p>
                    </div>
                    
                    <div class="principle-card">
                        <div class="principle-icon">
                            <i class="fas fa-user-shield"></i>
                        </div>
                        <h5>Digital Safety & Security</h5>
                        <p>Understanding online threats and how to protect against them.</p>
                    </div>
                    
                    <div class="principle-card">
                        <div class="principle-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h5>Digital Etiquette</h5>
                        <p>Appropriate and responsible behavior online.</p>
                    </div>
                    
                    <div class="principle-card">
                        <div class="principle-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h5>Digital Rights & Responsibilities</h5>
                        <p>Understanding your rights and responsibilities in the digital world.</p>
                    </div>
                </div>
                
                <div class="real-world-example">
                    <h4><i class="fas fa-lightbulb"></i> Real World Application</h4>
                    <p>Imagine you receive an email that appears to be from your bank asking you to verify your account details. A good digital citizen would recognize this as a potential phishing attempt and would not click on any links in the email. Instead, they would log in to their bank's official website directly or call the bank's official customer service number to verify the request.</p>
                </div>
            </section>

            <!-- Quiz Section -->
            <section id="quiz-section" class="lesson-section">
                <h2><i class="fas fa-question-circle"></i> Knowledge Check</h2>
                <p>Test your understanding of cybersecurity and digital citizenship with these multiple-choice questions.</p>
                
                <div id="quiz-container">
                    <div id="question-container">
                        <div id="question">Question</div>
                        <div id="answer-buttons" class="btn-grid">
                            <!-- Answer buttons will be added here by JavaScript -->
                        </div>
                    </div>
                    <div id="explanation" class="explanation"></div>
                    <div class="controls">
                        <button id="prev-btn" class="btn">Previous</button>
                        <button id="next-btn" class="btn">Next</button>
                        <button id="submit-btn" class="btn" style="display: none;">Submit Quiz</button>
                    </div>
                    <div class="quiz-status">
                        <div id="score-display" style="margin-bottom: 1rem; font-weight: bold; color: #1976d2;">
                            Score: <span id="current-score">0</span> / <span id="max-score">0</span>
                        </div>
                        <div id="progress">Question 1 of 50</div>
                    </div>
                    <div id="results" style="display: none; margin-top: 2rem; padding: 1.5rem; background-color: #e8f5e9; border-radius: 8px; text-align: center;">
                        <h3>Quiz Completed!</h3>
                        <p>Your score: <span id="score">0</span> out of <span id="total-questions">0</span></p>
                        <button id="restart-btn" class="btn" style="margin-top: 1rem; background-color: #2196f3; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">Restart Quiz</button>
                    </div>
                </div>
            </section>

            <div class="navigation-buttons">
                <div></div>
                <a href="online-threats.html" class="nav-button next">Next: 6.2 Online Threats <i class="fas fa-arrow-right"></i></a>
            </div>
        </article>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About This Course</h3>
                <p>This course covers essential cybersecurity practices and principles of digital citizenship for the modern digital world.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="quiz.html">Take Quiz</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 CS 2082 - Updated Computer Science Curriculum</p>
        </div>
    </footer>

    <script>
        // Function to save user's answer
        function saveAnswer(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                localStorage.setItem(elementId, element.value);
            }
        }

        // Function to update progress
        function updateProgress() {
            const sections = document.querySelectorAll('.lesson-section');
            const totalSections = sections.length;
            let viewedSections = 0;
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    section.classList.add('viewed');
                }
            });
            
            viewedSections = document.querySelectorAll('.lesson-section.viewed').length;
            const progress = Math.round((viewedSections / totalSections) * 100);
            
            const progressBar = document.querySelector('.progress-bar');
            if (progressBar) {
                progressBar.style.width = progress + '%';
                progressBar.setAttribute('aria-valuenow', progress);
            }
        }
        
        // Update progress on scroll and load
        window.addEventListener('scroll', updateProgress);
        document.addEventListener('DOMContentLoaded', updateProgress);
    </script>
    
    <!-- Include shared MCQ functionality -->
    <script src="js/mcq.js"></script>
    <!-- Include chapter-specific JavaScript -->
    <script src="js/chapters/cyber-security.js"></script>

    <!-- Include Cyber Security Questions -->
    <script src="js/cyber-security-questions.js"></script>
    
    <!-- Quiz JavaScript -->
    <script>
        // Quiz variables
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];

        // DOM elements
        const questionElement = document.getElementById('question');
        const answerButtonsElement = document.getElementById('answer-buttons');
        const nextButton = document.getElementById('next-btn');
        const prevButton = document.getElementById('prev-btn');
        const submitButton = document.getElementById('submit-btn');
        const explanationElement = document.getElementById('explanation');
        const progressElement = document.getElementById('progress');

        // Update the score display
        function updateScoreDisplay() {
            const currentScoreElement = document.getElementById('current-score');
            const maxScoreElement = document.getElementById('max-score');
            if (currentScoreElement && maxScoreElement) {
                currentScoreElement.textContent = score;
                maxScoreElement.textContent = cyberSecurityQuestions.length;
            }
        }

        // Initialize the quiz
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = Array(cyberSecurityQuestions.length).fill(null);
            document.getElementById('results').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
            updateScoreDisplay();
            showQuestion();
            updateProgress();
        }

        // Display the current question
        function showQuestion() {
            resetState();
            const currentQuestion = cyberSecurityQuestions[currentQuestionIndex];
            
            if (!currentQuestion) {
                console.error('No question found at index:', currentQuestionIndex);
                return;
            }
            
            questionElement.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;
            
            // Create answer buttons
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('btn');
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                answerButtonsElement.appendChild(button);
            });

            // Highlight selected answer if exists
            if (userAnswers[currentQuestionIndex] !== null) {
                const buttons = answerButtonsElement.querySelectorAll('.btn');
                buttons[userAnswers[currentQuestionIndex]].classList.add('selected');
                showExplanation(buttons[userAnswers[currentQuestionIndex]]);
            }

            updateNavigationButtons();
        }

        // Reset the quiz state for a new question
        function resetState() {
            // Clear previous answers
            while (answerButtonsElement.firstChild) {
                answerButtonsElement.removeChild(answerButtonsElement.firstChild);
            }
            
            // Reset UI elements
            explanationElement.textContent = '';
            explanationElement.className = 'explanation';
        }

        // Handle answer selection
        function selectAnswer(e) {
            const selectedButton = e.target;
            const selectedIndex = parseInt(selectedButton.dataset.index);
            
            // Save user's answer
            userAnswers[currentQuestionIndex] = selectedIndex;
            
            // Check if answer is correct
            const isCorrect = selectedIndex === cyberSecurityQuestions[currentQuestionIndex].answer;
            
            // Update score if not already answered
            if (isCorrect && !selectedButton.classList.contains('selected')) {
                score++;
                updateScoreDisplay();
            }
            
            // Highlight selected answer
            const buttons = answerButtonsElement.querySelectorAll('.btn');
            buttons.forEach(button => button.classList.remove('selected', 'correct', 'incorrect'));
            selectedButton.classList.add('selected');
            
            // Show explanation
            showExplanation(selectedButton);
            
            // Update navigation buttons
            updateNavigationButtons();
        }

        // Show explanation for the selected answer
        function showExplanation(selectedButton) {
            const currentQuestion = cyberSecurityQuestions[currentQuestionIndex];
            const selectedIndex = parseInt(selectedButton.dataset.index);
            
            // Show explanation
            explanationElement.textContent = currentQuestion.explanation;
            explanationElement.style.display = 'block';
            
            // Style based on correct/incorrect answer
            if (selectedIndex === currentQuestion.answer) {
                explanationElement.classList.add('correct');
                selectedButton.classList.add('correct');
            } else {
                explanationElement.classList.add('incorrect');
                selectedButton.classList.add('incorrect');
                // Also show the correct answer
                const buttons = answerButtonsElement.querySelectorAll('.btn');
                buttons[currentQuestion.answer].classList.add('correct');
            }
        }

        // Update navigation buttons state
        function updateNavigationButtons() {
            // Previous button
            prevButton.style.display = currentQuestionIndex === 0 ? 'none' : 'inline-block';
            
            // Next/Submit button
            if (currentQuestionIndex === cyberSecurityQuestions.length - 1) {
                nextButton.style.display = 'none';
                submitButton.style.display = 'inline-block';
                submitButton.disabled = userAnswers[currentQuestionIndex] === null;
            } else {
                nextButton.style.display = 'inline-block';
                submitButton.style.display = 'none';
                nextButton.disabled = userAnswers[currentQuestionIndex] === null;
            }
        }

        // Update progress indicator
        function updateProgress() {
            progressElement.textContent = `Question ${currentQuestionIndex + 1} of ${cyberSecurityQuestions.length}`;
            
            // Also update the lesson progress
            const sections = document.querySelectorAll('.lesson-section');
            const totalSections = sections.length;
            let viewedSections = 0;
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    section.classList.add('viewed');
                }
            });
            
            viewedSections = document.querySelectorAll('.lesson-section.viewed').length;
            const progress = Math.round((viewedSections / totalSections) * 100);
            
            const progressBar = document.querySelector('.progress-bar');
            if (progressBar) {
                progressBar.style.width = progress + '%';
                progressBar.setAttribute('aria-valuenow', progress);
            }
        }
        
        // Calculate and show final score
        function showResults() {
            // Calculate final score
            const finalScore = userAnswers.reduce((total, answer, index) => {
                return answer === cyberSecurityQuestions[index].answer ? total + 1 : total;
            }, 0);
            
            // Update the final score display
            document.getElementById('score').textContent = finalScore;
            document.getElementById('total-questions').textContent = cyberSecurityQuestions.length;
            
            // Show results and hide quiz
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('results').style.display = 'block';
        }

        // Event listeners
        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < cyberSecurityQuestions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
                updateProgress();
            }
        });

        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
                updateProgress();
            }
        });

        submitButton.addEventListener('click', showResults);
        
        document.getElementById('restart-btn').addEventListener('click', startQuiz);

        // Start the quiz when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            startQuiz();
            
            // Update progress on scroll
            window.addEventListener('scroll', updateProgress);
        });
    </script>
</body>
</html>
