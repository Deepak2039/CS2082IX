<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number System - CS 2082</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/lesson.css">
    <link rel="stylesheet" href="css/mcq.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <i class="fas fa-laptop-code"></i>
                <a href="index.html" class="home-link">CS 2082</a>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
            </ul>
        </nav>
    </header>

    <main class="lesson-container">
        <aside class="lesson-sidebar">
            <h3>Course Content</h3>
            <ul class="lesson-menu">
                <li class="active"><a href="number-system.html">2.1 Number System Basics</a></li>
                <li><a href="binary-system.html">2.2 Binary Number System</a></li>
                <li><a href="octal-hexadecimal.html">2.3 Octal & Hexadecimal</a></li>
                <li><a href="number-conversion.html">2.4 Number Conversion</a></li>
                <li><a href="binary-arithmetic.html">2.5 Binary Arithmetic</a></li>
            </ul>
        </aside>

        <article class="lesson-content">
            <div class="navigation-buttons top-navigation">
                <div></div>
                <a href="binary-system.html" class="nav-button next">Next: 2.2 Binary Number System <i class="fas fa-arrow-right"></i></a>
            </div>
            <h1>2. Number System</h1>

            <section id="introduction" class="lesson-section">
                <h2>2.1 Number System Basics</h2>
                <p>Welcome to the world of number systems! In this module, we'll explore how computers represent and work with numbers, and how we can convert between different number systems.</p>
                
                <div class="learning-objectives">
                    <h3><i class="fas fa-bullseye"></i> Learning Objectives</h3>
                    <ul>
                        <li>Understand different types of number systems used in computing</li>
                        <li>Learn about binary, decimal, octal, and hexadecimal systems</li>
                        <li>Understand the importance of number systems in computing</li>
                    </ul>
                </div>
            </section>

            <section id="what-is-number-system" class="lesson-section">
                <h3>2.1.1 What is a Number System?</h3>
                <div class="definition-box">
                    <h4><i class="fas fa-lightbulb"></i> Definition</h4>
                    <p>A number system is a way to represent numbers using digits or other symbols in a consistent manner. The value of each digit in a number can be determined by its position in the number, its digit value, and the base of the number system.</p>
                </div>

                <h4><i class="fas fa-sort-numeric-up"></i> Types of Number Systems</h4>
                <p>There are several types of number systems, but in computing, we primarily work with four:</p>
                
                <div class="info-table">
                    <table>
                        <tr>
                            <th>Number System</th>
                            <th>Base</th>
                            <th>Digits Used</th>
                            <th>Example</th>
                        </tr>
                        <tr>
                            <td>Binary</td>
                            <td>2</td>
                            <td>0, 1</td>
                            <td>1010<sub>2</sub></td>
                        </tr>
                        <tr>
                            <td>Decimal</td>
                            <td>10</td>
                            <td>0-9</td>
                            <td>10<sub>10</sub></td>
                        </tr>
                        <tr>
                            <td>Octal</td>
                            <td>8</td>
                            <td>0-7</td>
                            <td>12<sub>8</sub></td>
                        </tr>
                        <tr>
                            <td>Hexadecimal</td>
                            <td>16</td>
                            <td>0-9, A-F</td>
                            <td>A1<sub>16</sub></td>
                        </tr>
                    </table>
                </div>
            </section>

            <section id="importance" class="lesson-section">
                <h3>2.1.2 Importance in Computing</h3>
                <p>Number systems are fundamental to how computers work:</p>
                
                <div class="feature-item">
                    <h4><i class="fas fa-microchip"></i> Binary in Computers</h4>
                    <p>Computers use the binary system (base-2) because digital electronics have two stable states: on (1) and off (0). All data in computers is ultimately represented in binary form.</p>
                </div>
                
                <div class="feature-item">
                    <h4><i class="fas fa-memory"></i> Memory Addressing</h4>
                    <p>Memory locations in computers are addressed using binary numbers. Hexadecimal is often used as a more human-readable representation of these binary addresses.</p>
                </div>
                
                <div class="feature-item">
                    <h4><i class="fas fa-palette"></i> Color Representation</h4>
                    <p>Colors in web design are often represented in hexadecimal format (e.g., #FF5733) which is more compact than binary and easier to read than decimal.</p>
                </div>
            </section>

            <section id="conversion-basics" class="lesson-section">
                <h3>2.1.3 Basic Conversion Concepts</h3>
                <p>Understanding how to convert between different number systems is a key skill in computer science. Here's a quick overview:</p>
                
                <h4>Positional Notation</h4>
                <p>In any number system, the position of each digit represents a power of the base. For example, in the decimal number 345<sub>10</sub>:</p>
                <p>3 × 10<sup>2</sup> + 4 × 10<sup>1</sup> + 5 × 10<sup>0</sup> = 300 + 40 + 5 = 345<sub>10</sub></p>
                
                <h4>Common Conversion Methods</h4>
                <ul class="application-list">
                    <li><strong>Binary to Decimal:</strong> Multiply each bit by 2<sup>position</sup> and add</li>
                    <li><strong>Decimal to Binary:</strong> Divide by 2 and record remainders</li>
                    <li><strong>Binary to Hexadecimal:</strong> Group binary digits into sets of four</li>
                    <li><strong>Hexadecimal to Binary:</strong> Convert each hex digit to 4 binary bits</li>
                </ul>
                
                <div class="real-world-example">
                    <h4><i class="fas fa-mobile-alt"></i> Real World Example</h4>
                    <p>When you see a color code like #FF5733 in web design, it's actually three pairs of hexadecimal numbers representing red (FF), green (57), and blue (33) components. Each pair can be converted to binary for the computer to understand.</p>
                </div>
            </section>

            <div class="navigation-buttons">
                <div></div>
                <a href="binary-system.html" class="nav-button next">Next: 2.2 Binary Number System <i class="fas fa-arrow-right"></i></a>
            </div>

            <section id="quiz-section" class="lesson-section">
                <h2><i class="fas fa-question-circle"></i> Knowledge Check</h2>
                <p>Test your understanding of number systems with these multiple-choice questions.</p>
                
                <div id="quiz-container">
                    <div id="question-container">
                        <div id="question">Question</div>
                        <div id="answer-buttons" class="btn-grid">
                            <!-- Answer buttons will be added here by JavaScript -->
                        </div>
                    </div>
                    <div id="explanation" class="explanation"></div>
                    <div class="controls">
                        <button id="prev-btn" class="btn">Previous</button>
                        <button id="next-btn" class="btn">Next</button>
                        <button id="submit-btn" class="btn" style="display: none;">Submit Quiz</button>
                    </div>
                    <div class="quiz-status">
                        <div id="score-display" style="margin-bottom: 1rem; font-weight: bold; color: #1976d2;">
                            Score: <span id="current-score">0</span> / <span id="max-score">0</span>
                        </div>
                        <div id="progress">Question 1 of 50</div>
                    </div>
                    <div id="results" style="display: none; margin-top: 2rem; padding: 1.5rem; background-color: #e8f5e9; border-radius: 8px; text-align: center;">
                        <h3>Quiz Completed!</h3>
                        <p>Your score: <span id="score">0</span> out of <span id="total-questions">0</span></p>
                        <button id="restart-btn" class="btn" style="margin-top: 1rem; background-color: #2196f3; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">Restart Quiz</button>
                    </div>
                </div>
            </section>
        </article>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About This Course</h3>
                <p>This course is designed to provide a comprehensive understanding of number systems and their applications in computing.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="quiz.html">Take Quiz</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 CS 2082 - Updated Computer Science Curriculum</p>
        </div>
    </footer>

    <script src="js/number-system-questions.js"></script>
    <!-- Quiz JavaScript -->
    <script>
        // Quiz variables
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];

        // DOM elements
        const questionElement = document.getElementById('question');
        const answerButtonsElement = document.getElementById('answer-buttons');
        const nextButton = document.getElementById('next-btn');
        const prevButton = document.getElementById('prev-btn');
        const submitButton = document.getElementById('submit-btn');
        const explanationElement = document.getElementById('explanation');
        const progressElement = document.getElementById('progress');

        // Update the score display
        function updateScoreDisplay() {
            const currentScoreElement = document.getElementById('current-score');
            const maxScoreElement = document.getElementById('max-score');
            if (currentScoreElement && maxScoreElement) {
                currentScoreElement.textContent = score;
                maxScoreElement.textContent = numberSystemQuestions.length;
            }
        }

        // Initialize the quiz
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = Array(numberSystemQuestions.length).fill(null);
            document.getElementById('results').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
            updateScoreDisplay();
            showQuestion();
            updateProgress();
        }

        // Display the current question
        function showQuestion() {
            resetState();
            const currentQuestion = numberSystemQuestions[currentQuestionIndex];
            
            if (!currentQuestion) {
                console.error('No question found at index:', currentQuestionIndex);
                return;
            }
            
            questionElement.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;
            
            // Create answer buttons
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('btn');
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                answerButtonsElement.appendChild(button);
            });

            // Highlight selected answer if exists
            if (userAnswers[currentQuestionIndex] !== null) {
                const buttons = answerButtonsElement.querySelectorAll('.btn');
                buttons[userAnswers[currentQuestionIndex]].classList.add('selected');
                showExplanation(buttons[userAnswers[currentQuestionIndex]]);
            }

            updateNavigationButtons();
        }

        // Reset the quiz state for a new question
        function resetState() {
            // Clear previous answers
            while (answerButtonsElement.firstChild) {
                answerButtonsElement.removeChild(answerButtonsElement.firstChild);
            }
            
            // Reset UI elements
            explanationElement.textContent = '';
            explanationElement.className = 'explanation';
        }

        // Handle answer selection
        function selectAnswer(e) {
            const selectedButton = e.target;
            const selectedIndex = parseInt(selectedButton.dataset.index);
            
            // Save user's answer
            userAnswers[currentQuestionIndex] = selectedIndex;
            
            // Check if answer is correct
            const isCorrect = selectedIndex === numberSystemQuestions[currentQuestionIndex].answer;
            
            // Update score if not already answered
            if (isCorrect && !selectedButton.classList.contains('selected')) {
                score++;
                updateScoreDisplay();
            }
            
            // Highlight selected answer
            const buttons = answerButtonsElement.querySelectorAll('.btn');
            buttons.forEach(button => button.classList.remove('selected', 'correct', 'incorrect'));
            selectedButton.classList.add('selected');
            
            // Show explanation
            showExplanation(selectedButton);
            
            // Update navigation buttons
            updateNavigationButtons();
        }

        // Show explanation for the selected answer
        function showExplanation(selectedButton) {
            const currentQuestion = numberSystemQuestions[currentQuestionIndex];
            const selectedIndex = parseInt(selectedButton.dataset.index);
            
            // Show explanation
            explanationElement.textContent = currentQuestion.explanation;
            explanationElement.style.display = 'block';
            
            // Style based on correct/incorrect answer
            if (selectedIndex === currentQuestion.answer) {
                explanationElement.classList.add('correct');
                selectedButton.classList.add('correct');
            } else {
                explanationElement.classList.add('incorrect');
                selectedButton.classList.add('incorrect');
                // Also show the correct answer
                const buttons = answerButtonsElement.querySelectorAll('.btn');
                buttons[currentQuestion.answer].classList.add('correct');
            }
        }

        // Update navigation buttons state
        function updateNavigationButtons() {
            // Previous button
            prevButton.style.display = currentQuestionIndex === 0 ? 'none' : 'inline-block';
            
            // Next/Submit button
            if (currentQuestionIndex === numberSystemQuestions.length - 1) {
                nextButton.style.display = 'none';
                submitButton.style.display = 'inline-block';
                submitButton.disabled = userAnswers[currentQuestionIndex] === null;
            } else {
                nextButton.style.display = 'inline-block';
                submitButton.style.display = 'none';
                nextButton.disabled = userAnswers[currentQuestionIndex] === null;
            }
        }

        // Update progress indicator
        function updateProgress() {
            progressElement.textContent = `Question ${currentQuestionIndex + 1} of ${numberSystemQuestions.length}`;
            
            // Also update the lesson progress
            const sections = document.querySelectorAll('.lesson-section');
            const totalSections = sections.length;
            let viewedSections = 0;
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    section.classList.add('viewed');
                }
            });
            
            viewedSections = document.querySelectorAll('.lesson-section.viewed').length;
            const progress = Math.round((viewedSections / totalSections) * 100);
            
            const progressBar = document.querySelector('.progress-bar');
            if (progressBar) {
                progressBar.style.width = progress + '%';
                progressBar.setAttribute('aria-valuenow', progress);
            }
        }

        // Calculate and show final score
        function showResults() {
            // Calculate final score
            const finalScore = userAnswers.reduce((total, answer, index) => {
                return answer === numberSystemQuestions[index].answer ? total + 1 : total;
            }, 0);
            
            // Update the final score display
            document.getElementById('score').textContent = finalScore;
            document.getElementById('total-questions').textContent = numberSystemQuestions.length;
            
            // Show results and hide quiz
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('results').style.display = 'block';
        }

        // Event listeners
        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < numberSystemQuestions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
                updateProgress();
            }
        });

        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
                updateProgress();
            }
        });

        submitButton.addEventListener('click', showResults);
        
        document.getElementById('restart-btn').addEventListener('click', startQuiz);

        // Start the quiz when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            startQuiz();
            
            // Update progress on scroll
            window.addEventListener('scroll', updateProgress);
        });
    </script>
    
    <!-- Include shared MCQ functionality -->
    <script src="js/mcq.js"></script>
    <!-- Include chapter-specific JavaScript -->
    <script src="js/chapters/number-system.js"></script>
</body>
</html>
