<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Programming - CS 2082</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/lesson.css">
    <link rel="stylesheet" href="css/mcq.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <i class="fas fa-laptop-code"></i>
                <a href="index.html" class="home-link">CS 2082</a>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
            </ul>
        </nav>
    </header>

    <main class="lesson-container">
        <aside class="lesson-sidebar">
            <h3>Course Content</h3>
            <ul class="lesson-menu">
                <li class="active"><a href="python-programming.html">7.1 Python Fundamentals</a></li>
                <li><a href="python-data-structures.html">7.2 Data Structures</a></li>
                <li><a href="python-functions.html">7.3 Functions & Modules</a></li>
                <li><a href="python-files.html">7.4 File Handling</a></li>
                <li><a href="python-projects.html">7.5 Python Projects</a></li>
            </ul>
        </aside>

        <article class="lesson-content">
            <div class="navigation-buttons top-navigation">
                <div></div>
                <a href="python-data-structures.html" class="nav-button next">Next: 7.2 Data Structures <i class="fas fa-arrow-right"></i></a>
            </div>
            <h1>7. Python Programming</h1>
            
            <section id="introduction" class="lesson-section">
                <h2>7.1 Python Fundamentals</h2>
                <p>Welcome to Python Programming! Python is a powerful, high-level programming language known for its simplicity and readability. In this module, we'll cover the basics of Python programming.</p>
                
                <div class="learning-objectives">
                    <h3><i class="fas fa-bullseye"></i> Learning Objectives</h3>
                    <ul>
                        <li>Understand Python syntax and basic programming concepts</li>
                        <li>Learn about variables, data types, and operators in Python</li>
                        <li>Write and execute simple Python programs</li>
                        <li>Understand control flow with conditionals and loops</li>
                    </ul>
                </div>
            </section>

            <section id="python-basics" class="lesson-section">
                <h3>7.1.1 Python Basics</h3>
                
                <div class="code-example">
                    <h4><i class="fas fa-code"></i> Your First Python Program</h4>
                    <pre><code># This is a simple Python program
print("Hello, World!")</code></pre>
                </div>
                
                <div class="info-box">
                    <h4><i class="fas fa-info-circle"></i> Why Python?</h4>
                    <p>Python is widely used in various domains including web development, data science, artificial intelligence, and more. Its simple syntax makes it an excellent language for beginners.</p>
                </div>
            </section>

            <section id="variables" class="lesson-section">
                <h3>7.1.2 Variables and Data Types</h3>
                
                <div class="code-example">
                    <h4><i class="fas fa-code"></i> Variables in Python</h4>
                    <pre><code># Variables don't need explicit declaration
name = "Alice"
age = 25
height = 5.9
is_student = True</code></pre>
                </div>
                
                <div class="info-table">
                    <h4><i class="fas fa-table"></i> Basic Data Types</h4>
                    <table>
                        <tr>
                            <th>Data Type</th>
                            <th>Example</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td>int</td>
                            <td>42</td>
                            <td>Integer numbers</td>
                        </tr>
                        <tr>
                            <td>float</td>
                            <td>3.14</td>
                            <td>Floating-point numbers</td>
                        </tr>
                        <tr>
                            <td>str</td>
                            <td>"Hello"</td>
                            <td>Text (string)</td>
                        </tr>
                        <tr>
                            <td>bool</td>
                            <td>True, False</td>
                            <td>Boolean values</td>
                        </tr>
                    </table>
                </div>
            </section>

            <!-- Quiz Section -->
            <section id="quiz-section" class="lesson-section">
                <h2><i class="fas fa-question-circle"></i> Python Knowledge Check</h2>
                <p>Test your understanding of Python programming with these multiple-choice questions.</p>
                
                <div id="quiz-container">
                    <div id="question-container">
                        <div id="question">Question</div>
                        <div id="answer-buttons" class="btn-grid">
                            <!-- Answer buttons will be added here by JavaScript -->
                        </div>
                    </div>
                    <div id="explanation" class="explanation"></div>
                    <div class="controls">
                        <button id="prev-btn" class="btn">Previous</button>
                        <button id="next-btn" class="btn">Next</button>
                        <button id="submit-btn" class="btn" style="display: none;">Submit Quiz</button>
                    </div>
                    <div class="quiz-status">
                        <div id="score-display" style="margin-bottom: 1rem; font-weight: bold; color: #1976d2;">
                            Score: <span id="current-score">0</span> / <span id="max-score">0</span>
                        </div>
                        <div id="progress">Question 1 of 50</div>
                    </div>
                    <div id="results" style="display: none; margin-top: 2rem; padding: 1.5rem; background-color: #e8f5e9; border-radius: 8px; text-align: center;">
                        <h3>Quiz Completed!</h3>
                        <p>Your score: <span id="score">0</span> out of <span id="total-questions">0</span></p>
                        <button id="restart-btn" class="btn" style="margin-top: 1rem; background-color: #2196f3; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">Restart Quiz</button>
                    </div>
                </div>
            </section>

            <div class="navigation-buttons">
                <div></div>
                <a href="python-data-structures.html" class="nav-button next">Next: 7.2 Data Structures <i class="fas fa-arrow-right"></i></a>
            </div>
        </article>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About This Course</h3>
                <p>This course introduces Python programming fundamentals and best practices for aspiring developers.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="computer-system.html">Computer System</a></li>
                    <li><a href="number-system.html">Number System</a></li>
                    <li><a href="block-programming.html">Block Programming</a></li>
                    <li><a href="web-technology.html">Web Technology</a></li>
                    <li><a href="internet-social-media.html">Internet & Social Media</a></li>
                    <li><a href="cyber-security.html">Cyber Security</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Resources</h3>
                <ul>
                    <li><a href="https://www.python.org/" target="_blank">Python Official Website</a></li>
                    <li><a href="https://docs.python.org/3/tutorial/" target="_blank">Python Documentation</a></li>
                    <li><a href="https://www.pythonanywhere.com/" target="_blank">PythonAnywhere</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 CS 2082 - All Rights Reserved</p>
        </div>
    </footer>

    <!-- Include Python Questions -->
    <script src="js/python-questions.js"></script>
    
    <!-- Quiz JavaScript -->
    <script>
        // Quiz variables
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];

        // DOM elements
        const questionElement = document.getElementById('question');
        const answerButtonsElement = document.getElementById('answer-buttons');
        const nextButton = document.getElementById('next-btn');
        const prevButton = document.getElementById('prev-btn');
        const submitButton = document.getElementById('submit-btn');
        const explanationElement = document.getElementById('explanation');
        const progressElement = document.getElementById('progress');

        // Update the score display
        function updateScoreDisplay() {
            const currentScoreElement = document.getElementById('current-score');
            const maxScoreElement = document.getElementById('max-score');
            if (currentScoreElement && maxScoreElement) {
                currentScoreElement.textContent = score;
                maxScoreElement.textContent = pythonQuestions.length;
            }
        }

        // Initialize the quiz
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = Array(pythonQuestions.length).fill(null);
            document.getElementById('results').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
            updateScoreDisplay();
            showQuestion();
            updateProgress();
        }

        // Display the current question
        function showQuestion() {
            resetState();
            const currentQuestion = pythonQuestions[currentQuestionIndex];
            
            if (!currentQuestion) {
                console.error('No question found at index:', currentQuestionIndex);
                return;
            }
            
            questionElement.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;
            
            // Create answer buttons
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('btn');
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                answerButtonsElement.appendChild(button);
            });

            // Highlight selected answer if exists
            if (userAnswers[currentQuestionIndex] !== null) {
                const buttons = answerButtonsElement.querySelectorAll('.btn');
                buttons[userAnswers[currentQuestionIndex]].classList.add('selected');
                showExplanation(buttons[userAnswers[currentQuestionIndex]]);
            }

            updateNavigationButtons();
        }

        // Reset the quiz state for a new question
        function resetState() {
            // Clear previous answers
            while (answerButtonsElement.firstChild) {
                answerButtonsElement.removeChild(answerButtonsElement.firstChild);
            }
            
            // Reset UI elements
            explanationElement.textContent = '';
            explanationElement.className = 'explanation';
        }

        // Handle answer selection
        function selectAnswer(e) {
            const selectedButton = e.target;
            const selectedIndex = parseInt(selectedButton.dataset.index);
            
            // Save user's answer
            userAnswers[currentQuestionIndex] = selectedIndex;
            
            // Check if answer is correct
            const isCorrect = selectedIndex === pythonQuestions[currentQuestionIndex].answer;
            
            // Update score if not already answered
            if (isCorrect && !selectedButton.classList.contains('selected')) {
                score++;
                updateScoreDisplay();
            }
            
            // Highlight selected answer
            const buttons = answerButtonsElement.querySelectorAll('.btn');
            buttons.forEach(button => button.classList.remove('selected', 'correct', 'incorrect'));
            selectedButton.classList.add('selected');
            
            // Show explanation
            showExplanation(selectedButton);
            
            // Update navigation buttons
            updateNavigationButtons();
        }

        // Show explanation for the selected answer
        function showExplanation(selectedButton) {
            const currentQuestion = pythonQuestions[currentQuestionIndex];
            const selectedIndex = parseInt(selectedButton.dataset.index);
            
            // Show explanation
            explanationElement.textContent = currentQuestion.explanation;
            explanationElement.style.display = 'block';
            
            // Style based on correct/incorrect answer
            if (selectedIndex === currentQuestion.answer) {
                explanationElement.classList.add('correct');
                selectedButton.classList.add('correct');
            } else {
                explanationElement.classList.add('incorrect');
                selectedButton.classList.add('incorrect');
                // Also show the correct answer
                const buttons = answerButtonsElement.querySelectorAll('.btn');
                buttons[currentQuestion.answer].classList.add('correct');
            }
        }

        // Update navigation buttons state
        function updateNavigationButtons() {
            // Previous button
            prevButton.style.display = currentQuestionIndex === 0 ? 'none' : 'inline-block';
            
            // Next/Submit button
            if (currentQuestionIndex === pythonQuestions.length - 1) {
                nextButton.style.display = 'none';
                submitButton.style.display = 'inline-block';
                submitButton.disabled = userAnswers[currentQuestionIndex] === null;
            } else {
                nextButton.style.display = 'inline-block';
                submitButton.style.display = 'none';
                nextButton.disabled = userAnswers[currentQuestionIndex] === null;
            }
        }

        // Update progress indicator
        function updateProgress() {
            progressElement.textContent = `Question ${currentQuestionIndex + 1} of ${pythonQuestions.length}`;
            
            // Also update the lesson progress
            const sections = document.querySelectorAll('.lesson-section');
            const totalSections = sections.length;
            let viewedSections = 0;
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    section.classList.add('viewed');
                }
            });
            
            viewedSections = document.querySelectorAll('.lesson-section.viewed').length;
            const progress = Math.round((viewedSections / totalSections) * 100);
            
            const progressBar = document.querySelector('.progress-bar');
            if (progressBar) {
                progressBar.style.width = progress + '%';
                progressBar.setAttribute('aria-valuenow', progress);
            }
        }
        
        // Calculate and show final score
        function showResults() {
            // Calculate final score
            const finalScore = userAnswers.reduce((total, answer, index) => {
                return answer === pythonQuestions[index].answer ? total + 1 : total;
            }, 0);
            
            // Update the final score display
            document.getElementById('score').textContent = finalScore;
            document.getElementById('total-questions').textContent = pythonQuestions.length;
            
            // Show results and hide quiz
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('results').style.display = 'block';
        }

        // Event listeners
        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < pythonQuestions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
                updateProgress();
            }
        });

        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
                updateProgress();
            }
        });

        submitButton.addEventListener('click', showResults);
        
        document.getElementById('restart-btn').addEventListener('click', startQuiz);

        // Start the quiz when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            startQuiz();
            
            // Update progress on scroll
            window.addEventListener('scroll', updateProgress);
        });
    </script>
    
    <!-- Include the JavaScript for MCQ functionality -->
    <script src="js/mcq.js"></script>
    <script src="js/chapters/python-programming.js"></script>
</body>
</html>
